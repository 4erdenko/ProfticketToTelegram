# Парсер сервиса по продаже билетов.
Выдача настроена в телеграмм боте написанном на Aiogram.

Этот телеграм-бот предназначен для сбора и предоставления информации о спектаклях театра. Бот имеет разные функции в зависимости от того, является ли пользователь зарегистрированным (имеет запись в словаре `P_SHOWS`) или нет.

## Основной функционал

### Для незарегистрированных пользователей:

1. `/start` - команда, которая приветствует пользователя и предлагает посмотреть афишу.
2. `Этот месяц` - показывает список спектаклей на текущий месяц.
3. `Следующий месяц` - показывает список спектаклей на следующий месяц.

### Для зарегистрированных пользователей:

1. `/start` - команда, которая приветствует пользователя и открывает персональное меню.
2. `Этот месяц` - показывает список спектаклей на текущий месяц.
3. `Следующий месяц` - показывает список спектаклей на следующий месяц.
4. `Мои спектакли` - открывает меню для выбора месяца и показывает персональную информацию о спектаклях для выбранного месяца.
5. `↩️` - возвращает пользователя в главное меню.

## Установка и настройка

1. Установите необходимые зависимости из файла `requirements.txt`:

```bash
pip install -r requirements.txt
```

2. Замените `YOUR_TOKEN` в файле `config.py` на токен вашего телеграм-бота.

3. Заполните переменные `COM_ID`, `PERSONS` и `P_SHOWS` в файле `config.py` соответствующими данными о компании, пользователях и спектаклях.
Также в папке json_library есть готовый скрипт для парсинга всех организацией подключенных к сервису театров.
При запуске скрипта `profticket_place_parser.py`, он создаст в папке json_library файл 
`profticket.json` с данными о театрах. Вы выберете нужный ID и укажите в `COM_ID`.

4. Запустите бота, выполнив следующую команду:

```bash
python main.py
```

Теперь ваш телеграм-бот готов к использованию.

